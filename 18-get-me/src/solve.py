import random
import numpy as np
from numpy.linalg import inv
import math
flag = "hkcert23{1_4m_c0mpl373ly_54715f13d!_600d_w0rk!!}"

matrix = [[-69, 101, 67, -93, -86, -118, -34, 16, 10, -49, 127, -23, -95, -76, 21, -49, -70, -5, -41, -120, 80, -78, -54, -17, -69, -94, 117, -91, 90, -69, -115, 57, -109, 55, 114, -36, 40, -13, 14, -77, 46, -56, 94, 23, -112, -78, 10, 87], [-60, 112, 91, -51, 117, 101, -105, 43, -38, -20, -28, -56, 12, -108, -49, -124, -104, 69, -109, 83, 31, -89, 9, -115, -122, 18, -73, 55, -65, 19, -112, -61, 6, 64, 114, 120, 64, 108, 44, 66, 86, -102, -71, 92, 77, -103, -79, -75], [-39, -107, 7, -116, 91, -11, 31, -98, 8, -39, 87, 77, -79, 126, 75, -30, -3, 18, -59, -31, -31, 123, -93, 98, 126, -57, -124, -67, 49, -23, 102, -5, -54, 16, 126, 18, -2, 101, -101, 84, -75, -58, -94, 39, 63, -69, -61, 67], [-33, -60, -67, 16, 118, -49, -93, 52, 15, -66, 103, -48, -43, -5, 23, 100, -67, -121, 116, -48, 25, -67, 18, 19, 29, 4, -35, 11, -125, 57, 128, 115, 63, -73, 37, -67, -77, 22, -78, 127, 88, 38, -45, 63, -122, -15, -96, 47], [-6, 100, 67, -89, -15, -17, -46, -101, 17, 69, 57, -118, -104, -100, -16, -56, 4, -117, -5, -11, -84, -54, 8, -16, -15, 31, 40, 90, -96, 0, 48, -61, 115, 47, -115, 69, -119, -34, 54, -42, 101, 20, -95, 40, 25, 31, 71, 116], [120, 16, 75, -41, 71, 18, -116, -34, -40, -102, -94, -31, 75, 128, 25, 38, 114, -60, 101, 116, -41, 14, -7, -75, 112, -40, -110, -5, 57, -69, 123, -85, -100, -102, -103, 28, 110, -11, -44, 57, 28, -112, 9, 111, 74, 6, 122, 127], [-35, 7, 18, -4, 76, 68, 108, 84, 52, 61, 96, -91, -50, 86, 128, 118, 57, 69, -92, -83, 88, 2, -54, 105, 80, 88, 93, -64, 128, -62, -35, 66, -61, -110, 54, -74, -54, 114, -71, -27, 122, 57, 121, 112, -30, 126, 9, -125], [-63, -28, 119, 17, 71, -110, -16, 114, 15, 6, 92, 25, 87, 23, -97, 25, 102, 43, -42, 15, 102, 47, 73, -73, 87, 110, 29, -102, -22, 19, -52, -91, 35, 22, -18, -63, 69, -25, 51, 125, 119, -36, 77, 96, 13, 5, -36, 24], [111, 44, -127, -2, 33, 107, 27, 88, -121, -109, 1, 20, -31, -32, 122, 24, -9, 100, -57, 93, 105, -125, 30, -103, 51, -6, 89, -66, -23, 117, 23, -72, 125, 26, 123, -80, 105, -24, -62, 83, -13, 109, -52, 37, -36, -65, -81, 41], [-33, -86, -107, 38, 59, 109, 23, 108, -38, -90, -92, -121, -81, -33, 41, -58, 85, -24, 96, 84, 100, -123, 32, -13, -15, -50, -23, -37, 100, -46, -126, 109, -67, 63, -39, -9, -41, 38, 113, 120, -23, 48, 107, -107, 0, 63, 96, -66], [17, 83, 0, -104, 14, -118, 75, 86, -8, 95, 30, 115, -52, 20, 22, 57, 100, 38, 49, -80, -19, -90, -44, 33, 4, -44, 83, 124, 69, -68, -65, 122, -31, -116, 96, 60, -82, 14, 126, 74, 2, 27, -18, -94, 22, 20, -122, -92], [63, 39, 1, -34, 108, 82, -92, -12, 74, 68, 9, -37, -35, -123, -22, -2, -94, 29, -55, 10, -61, 90, -17, -72, 128, 97, -68, -68, -21, -117, 71, 96, 56, 11, 56, -95, -2, 70, 52, -66, 63, 61, -4, 102, -112, -68, 69, -111], [53, 30, -83, 12, -22, -115, -110, -49, -111, -12, -96, -52, 125, -56, 126, -14, 31, -115, -12, -57, 25, -90, -1, 9, 116, 124, -79, 40, 10, 22, -31, 96, 66, -30, 3, 38, -39, 127, 14, -31, 46, 33, 124, 81, -1, -105, 77, -34], [-123, -113, -7, 120, 125, -101, -60, -100, -7, -100, -60, -61, 69, 27, 24, -28, 57, -24, -98, -71, -110, -17, -9, -75, -56, 60, 17, 85, 105, 100, -30, -92, -20, 21, -16, 76, 64, -72, 48, -24, 61, -100, -35, -62, 81, 45, 105, 48], [52, 24, -39, 119, 51, 107, -109, -4, 85, 35, -29, 85, -99, -19, 30, 18, -73, -124, 88, 27, -64, -77, -81, 57, -23, 102, 20, -120, 93, 66, -63, -125, -16, 24, 65, 34, -38, -90, -54, -120, 117, 79, -71, -65, -123, -36, 16, -61], [-69, -122, 46, 48, -76, 98, 44, 103, -101, -66, 116, -18, -29, 72, -46, 110, -10, 4, 25, -6, 105, -119, -17, 39, 119, 68, -34, -104, -94, 43, 75, -61, 61, 86, 104, 104, 115, 86, 97, 73, -87, 26, 46, 88, -10, 16, 110, 42], [-98, -87, -96, -117, -67, 99, 107, 115, 5, -37, -26, 126, -8, 59, 17, -103, -80, -72, 44, -120, -119, -24, 15, 3, 128, 14, 99, 53, -52, -18, 88, 101, 79, -70, -90, 22, -43, 0, 20, -43, -55, 100, -59, 78, 126, -117, -27, 64], [-24, -96, 84, -64, -60, -108, 46, 66, -49, -48, -91, -35, 9, -17, 8, -97, -74, -81, -91, -22, 24, 77, -1, -106, -36, 71, -61, -34, 19, -126, 65, -108, 37, -4, -11, -76, 115, 92, -16, 5, 26, -72, 77, 41, 45, 44, -72, -104], [63, 82, 46, -94, -2, -110, 31, -97, -109, -42, -94, -60, 15, 100, 101, -92, -86, 84, 109, -17, -109, 0, 122, 78, 104, -45, -95, 46, 64, 104, -95, -29, -24, 0, 60, 47, 49, -35, -83, -44, 112, 80, -82, 37, -67, 69, -107, -61], [-51, 80, -6, 74, 6, -36, -125, -67, 98, 52, 30, -18, -18, -63, 19, -83, -11, -69, 128, -51, -31, 103, -115, -17, 15, -79, 43, 80, -30, 105, 80, 53, -71, -7, -116, -14, -115, 79, 22, 74, 127, -125, -9, 12, 110, -116, 94, -66], [30, -25, -82, -16, 88, -79, -56, -67, -4, 12, 113, -32, 96, -37, 59, -26, 92, 37, -56, 58, -66, -51, 114, -26, 11, 116, -75, -35, -51, 47, 66, -104, 0, -68, 43, -81, -73, -106, -124, -61, -40, 46, 91, -114, 20, 53, -106, 42], [27, -122, 78, 124, 106, -112, 53, -27, 8, 109, -105, -88, 0, 75, -68, -93, 60, -17, -43, 21, 91, 66, -67, 15, -125, 116, -18, 10, -17, -96, 55, -106, -3, 127, 29, -95, -120, 106, -77, 75, -107, 107, 106, -113, 3, 2, -76, 13], [-124, 20, -42, 119, 54, 120, 43, 10, 110, 74, 30, 119, -119, 115, -124, 102, 86, -86, -107, 64, -117, 36, -20, -122, -6, -92, -70, 125, -37, -120, -90, 14, 49, 29, -104, -15, -21, -93, 49, 4, 112, 0, -80, -18, 103, 81, 20, -80], [91, 9, 67, 1, 66, 55, -99, -1, 65, 39, 109, -86, 16, 61, -12, 48, 67, -54, -78, -121, -85, 42, -122, 103, 110, 81, -81, -70, -72, -21, -21, -50, -41, -42, 109, 34, 65, 64, 81, 72, 44, 79, -62, -16, 125, -66, -12, 8], [26, -83, -120, 34, 119, 21, -102, 82, -68, -104, -76, 2, 13, -109, -1, 68, -9, -33, 22, 33, 106, -55, -25, -34, 96, 45, 78, 9, -118, -124, 66, 79, 120, 10, -24, 17, -22, 1, 14, 94, 9, 94, -78, 99, -19, -122, -68, -112], [77, -125, 76, 25, 116, -50, 55, -39, 113, -31, -103, 125, 115, 81, 117, -68, -117, 4, 6, 13, 21, -58, 47, 76, -126, 11, 100, 34, -18, 90, -121, -25, 75, 47, 3, 68, 44, -9, -1, -58, -78, -86, -5, -105, 20, -17, 61, -100], [-6, 123, -127, 25, 19, 128, -102, 61, 99, 119, 22, 47, 39, 12, -99, 116, -97, 11, 37, -41, -101, 39, 74, 3, -37, -93, 1, -89, 63, -114, 2, 69, 77, 106, 103, 30, 50, -110, -82, -93, -59, -50, 104, 79, 112, 92, -127, 120], [-59, -104, -53, -122, 32, -93, -46, -30, -13, 110, -16, 82, 10, -41, 59, 62, -83, 75, 6, 81, 40, 25, 87, 99, -42, 61, 113, -13, -109, -96, 47, 91, -58, 27, 13, -27, -37, -51, 112, 98, -100, 128, -99, 23, 120, 14, 9, -108], [53, 80, 42, -55, -104, 86, 81, -14, 30, 96, 2, 61, 1, -114, 56, -99, -54, 30, 20, 101, 84, -48, -92, -98, 24, 126, -47, 50, -24, 61, 98, 89, -28, 89, 121, -82, 5, -122, 52, 13, -112, 27, 104, -106, -57, -27, -66, 86], [-20, -92, 102, -6, 62, -35, -79, 56, 55, 8, 69, -41, 78, -62, 105, -14, -55, 87, 64, -3, 77, 45, 22, -117, 39, 23, -50, 124, 30, -3, 114, -52, -81, -99, -80, 126, 39, 38, 89, 60, 53, 74, -14, -4, -20, -3, 17, 92], [-122, -94, -12, 79, -62, -35, 93, 73, -91, -6, 126, -85, -75, -12, 42, -47, -102, -125, -111, -102, -46, 25, 4, 31, -92, 88, 97, 24, -68, -9, -32, -120, -42, 7, -9, 51, -55, -9, 7, 14, -72, -73, 28, -117, -122, -96, -64, -1], [114, 46, -6, -29, 3, 117, -46, 111, 44, -66, -97, 34, -100, 31, -16, 123, -17, 96, -77, -71, -18, 34, 32, 120, -102, -70, -76, 44, 63, -57, 117, -32, -84, -61, 94, 28, -85, 76, 7, -14, -51, -78, 31, 30, 71, -89, -60, -49], [-121, 19, 95, -120, -13, -59, 19, 5, 119, -1, 71, -45, 33, -3, 20, -60, 98, 45, 113, -44, -90, 96, 15, 7, 68, -83, -126, -72, -20, -124, 96, -39, 112, -42, -113, -54, 81, 115, -39, 51, -6, -31, 21, -113, -80, 81, -86, -80], [-117, -87, 109, -67, -59, -16, 93, -3, -28, -105, 128, 127, -72, -42, -74, 69, 21, -16, 44, -12, 65, -117, -80, -72, -101, 75, -77, 63, 78, 85, 15, 39, 116, 37, 37, -4, -118, 65, -63, 37, -69, 44, -116, 33, 100, -18, -60, -3], [-94, 23, 35, -22, -107, 78, -47, 59, -20, -8, -62, -56, 8, -113, 56, 67, 45, -30, 107, 104, -68, -59, 1, -66, 120, -45, 68, 32, 65, 104, 110, 99, -99, 31, -80, -84, -119, 117, -80, -33, -21, -50, 93, -44, 39, -40, -100, -126], [113, 62, 113, -115, -65, 16, -122, 1, 2, -67, 57, -41, -10, -57, 5, 33, -111, 52, 1, 76, 45, -32, 92, -110, -122, -34, -5, -15, 54, 96, -65, 90, 98, -34, 36, -21, -47, -15, 15, 128, -37, 4, -101, -73, -1, -41, 101, -99], [7, 71, -10, -88, 15, -80, 114, -104, -51, 40, 9, 89, -87, -29, 14, -73, 6, 95, -40, -52, -100, 115, 115, 21, -67, 126, -22, -106, -17, -58, -61, 56, -13, -33, 99, -118, -103, -109, -122, -6, -24, 94, 25, -89, -7, 85, 12, -79], [55, 28, 112, 32, 100, -74, 33, -125, -93, 65, 22, -17, -124, -112, -14, 64, -74, -34, 79, -22, 60, 82, -72, 4, 53, -89, -94, -74, 53, 49, -23, 101, 38, 97, 120, 115, 94, -79, -114, -2, 107, -90, 55, 31, -57, -1, 121, -42]]
out = [-80224, -19114, 19822, 11166, -5359, 68894, 87027, 79031, 46800, -6945, 12809, 5374, -1305, -31445, -19071, 74981, 5997, -95418, 15581, 11015, -12387, -8368, -5542, 70158, -1835, 10408, 59142, 10991, 15747, 80225, -124645, 13516, -8092, -24206, -23676, -27268, -52930, 6867]

solv_matrix = []
solv_out = []
for j,row in enumerate(matrix):
    temp_out = 0
    temp_row = []
    for i, val in enumerate(row):
        if(i == 0):
            temp_out += val * ord('h')
        elif(i == 1):
            temp_out += val * ord('k')
        elif(i == 2):
            temp_out += val * ord('c')
        elif(i == 3):
            temp_out += val * ord('e')
        elif(i == 4):
            temp_out += val * ord('r')
        elif(i == 5):
            temp_out += val * ord('t')
        elif(i == 6):
            temp_out += val * ord('2')
        elif(i == 7):
            temp_out += val * ord('3')
        elif(i == 8):
            temp_out += val * ord('{')
        elif(i == 47):
            temp_out += val * ord('}')
        else:
            temp_row.append(val)
    solv_out.append(out[j] - temp_out)
    solv_matrix.append(temp_row)

solv_matrix = np.array(solv_matrix)
solv_out = np.array(solv_out)
inv_solv_matrix = inv(solv_matrix)
x = np.matmul(inv_solv_matrix,solv_out)
sol = ""
for i in x:
    sol += chr(round(i))

assert("hkcert23{"+sol+"}" == flag)
